#include<iostream>
#include"class.h"

using namespace std;

int date::dswitch(int select) const {

	int last_day;

	switch (select) {

	case 1:
	case 3:
	case 5:
	case 7:
	case 8:
	case 10:
	case 12: //日の入力を行います
		cout << "1 ～ " << LASTM1 <<"日まで\n";

		do {
			//宣言
			cout << "日 : ";

			//データメンバにキーボードからの値を代入します
			stream >> tmp.year_now;

			//入力した値が 1900年 ～ 2100年以外だったならばやり直し
			if (tmp.year_now >= 2100 || tmp.year_now < 1900) {
				cout << "やり直し(1900 ～ 2100年まで)";
			}
			//再入力を要求します
		} while (tmp.year_now < 1900 || tmp.year_now > 2100);

	}
}

std::ostream& operator <<(std::ostream& stream, const Date& tmp) {
	return stream << tmp.year() << "年" << tmp.month() << "月" << tmp.day()
			<< "日\n";
}
std::istream& operator >>(std::istream& stream, Date& tmp) {
	//西暦の入力を行います
	cout << "1900 ～ 2100年まで\n";

	do {
		//宣言
		cout << "年 : ";

		//データメンバにキーボードからの値を代入します
		stream >> tmp.year_now;

		//入力した値が 1900年 ～ 2100年以外だったならばやり直し
		if (tmp.year_now >= 2100 || tmp.year_now < 1900) {
			cout << "やり直し(1900 ～ 2100年まで)";
		}
		//再入力を要求します
	} while (tmp.year_now < 1900 || tmp.year_now > 2100);

	//月の入力を行います
	cout << "1～12月まで\n";

	do {
		//宣言
		cout << "月 : ";

		//データメンバにキーボードからの値を代入します
		stream >> tmp.month_now;

		//入力した値が1から12の月に該当しなかったならば
		if (tmp.month_now > 12 || tmp.month_now < 1) {
			cout << "やり直し(1 ～ 12月まで)";
		}
		//再入力を要求します
	} while (tmp.month_now < 1 || tmp.month_now > 12);

	int max = dswitch(tmp.month_now);

	return stream;
}
